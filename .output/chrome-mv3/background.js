var background=function(){"use strict";var t,s;function c(e){return e==null||typeof e=="function"?{main:e}:e}const u=((s=(t=globalThis.browser)==null?void 0:t.runtime)==null?void 0:s.id)==null?globalThis.chrome:globalThis.browser,l=c(()=>{console.log("Hello background!",{id:u.runtime.id})});chrome.runtime.onMessage.addListener((e,i,m)=>{e.action==="sendData"&&chrome.tabs.query({url:"*://linux.do/*"},a=>{a.forEach(r=>{chrome.tabs.sendMessage(r.id,{action:"setData",data:e.data})})})}),chrome.runtime.onMessage.addListener((e,i,m)=>{if(e.action==="open_bookmark_page"){const r=`chrome-extension://${chrome.runtime.id}/bookmark.html`;chrome.tabs.create({url:r})}});function h(){}function n(e,...i){}const d={debug:(...e)=>n(console.debug,...e),log:(...e)=>n(console.log,...e),warn:(...e)=>n(console.warn,...e),error:(...e)=>n(console.error,...e)};let o;try{o=l.main(),o instanceof Promise&&console.warn("The background's main() function return a promise, but it must be synchronous")}catch(e){throw d.error("The background crashed on startup!"),e}return o}();
background;
